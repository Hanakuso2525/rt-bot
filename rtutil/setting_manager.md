# SettingManager API 説明
ウェブでも設定ができるように簡単にするためのシステムの設定取得/更新のAPIの説明です。

## 設定項目
設定項目とはテキストボックスやラジオボタンなどのことです。  
API仕様はこの下にあります。
### テキストボックス
```json
{
    "item_type": "text",
    "display_name": "項目の名前",
    "multiple_line": bool,
    "text": "文字列"
}
```
> `文字列`
とありますが、ここは取得時は現在設定されている値が入ります。  
もちろん設定更新後もここに値を入れてPOSTします。
### チェックボックス
```json
{
    "item_type": "check",
    "checked": bool,
    "display_name": "チェックボックスの名前"
}
```
> `checked`
ここは取得時は現在設定されている値が入ります。  
もちろん設定更新後もここに値を入れてPOSTをします。
### ラジオボタン
```json
{
    "item_type": "radios",
    "radios": {
        "ラジオボタン名": bool
    }
}
```
> `radios`
ここの中にある辞書はキーがラジオボタンの名前で値がチェックされてるかされてないかです。  
ここは取得時は現在設定されている値が入ります。  
もちろん設定更新後もここに値を入れてPOSTをします。

## URI
### /api/settings/<mode> GET
現在ログインしているユーザーが持っている権限で設定可能な設定のリストを取得します。  
`<mode>`にはサーバー設定である`guild`またはユーザー個人の設定である`user`を入れることができます。  
`<mode>`が`user`の場合は権限どうこうのことはないです。
#### modeがguildの場合
取得に成功すれば以下のようなjsonが帰ってきます。
```json
{
    "status": "ok",
    "settings": {
        "サーバーID": {
            "name": "サーバー名",
            "icon": "サーバーアイコンのURL",
            "commands": {
                "コマンド名/設定名":{
                    "description": "コマンド/設定の説明",
                    "items": {
                        "設定項目名": {
                            "item_type": "設定項目の種類",
                            "display_name": "ウェブで表示する設定項目の名前"
                            // あとその設定の項目の種類によるもの。
                        }
                    }
                }
            }
        }
    }
}
```